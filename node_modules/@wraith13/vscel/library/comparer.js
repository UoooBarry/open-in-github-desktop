"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.lowerCase = exports.make = exports.basic = void 0;
exports.basic = (a, b) => a < b ? -1 :
    b < a ? 1 :
        0;
exports.make = (source) => {
    var _a;
    const invoker = (i) => {
        const f = i;
        if ("function" === typeof f) {
            return (a, b) => exports.basic(f(a), f(b));
        }
        const r = i;
        if (undefined !== (r === null || r === void 0 ? void 0 : r.raw)) {
            return r.raw;
        }
        const s = i;
        if (undefined !== (s === null || s === void 0 ? void 0 : s.getter)) {
            const body = (a, b) => exports.basic(s.getter(a), s.getter(b));
            if (undefined === s.condition) {
                return body;
            }
            else {
                const f = s.condition;
                if ("function" === typeof f) {
                    return (a, b) => f(a, b) ? body(a, b) : 0;
                }
                else {
                    const t = s.condition;
                    const getter = t.getter;
                    if (undefined === getter) {
                        return (a, b) => t.type === typeof a && t.type === typeof b ? body(a, b) : 0;
                    }
                    else {
                        return (a, b) => t.type === typeof getter(a) && t.type === typeof getter(b) ? body(a, b) : 0;
                    }
                }
            }
        }
        return undefined;
    };
    if (Array.isArray(source)) {
        const comparerList = source.map(invoker).filter(i => undefined !== i);
        return (a, b) => {
            let result = 0;
            for (let i = 0; i < comparerList.length && 0 === result; ++i) {
                result = comparerList[i](a, b);
            }
            return result;
        };
    }
    else {
        return (_a = invoker(source)) !== null && _a !== void 0 ? _a : (() => 0);
    }
};
exports.lowerCase = exports.make([a => a.toLowerCase(), { raw: exports.basic }]);
//# sourceMappingURL=comparer.js.map